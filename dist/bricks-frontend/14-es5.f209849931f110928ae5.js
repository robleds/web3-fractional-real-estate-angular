!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{nbP7:function(e,r,a){"use strict";a.r(r),a.d(r,"OnboardingPagesModule",(function(){return P}));var o,i,c,u,s=a("ofXK"),h=a("tyNb"),f=a("fXoL"),p=((o=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=f.Jb({type:o,selectors:[["app-onboarding-pages"]],decls:1,vars:0,template:function(t,e){1&t&&f.Qb(0,"router-outlet")},directives:[h.i],styles:[""]}),o),l=a("aMZQ"),v=a("mrSG"),d=a("AytR"),b=a("lGQG"),g=a("tk/3"),y=((i=function(){function e(n,r,a){t(this,e),this.router=n,this.auth=r,this.http=a}return n(e,[{key:"canActivate",value:function(t,e){var n=this;return new Promise((function(e,r){return Object(v.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.queryParamMap.has("token")){n.next=13;break}return n.prev=1,n.next=4,this.http.get("".concat(d.a.apiHost,"/validate?token=").concat(t.queryParamMap.get("token"))).toPromise();case 4:a=n.sent,console.log(a),a.status?(this.auth.setToken(a.token),e(!0)):e(!1),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),"ALREADY_VALIDATED"===n.t0.error.message?this.auth.isLogged?e(!0):(this.auth.requiredLogin=!0,this.router.navigateByUrl(""),e(!1)):e(!1);case 11:n.next=14;break;case 13:(null===(r=this.auth.userData)||void 0===r?void 0:r.status)>0&&this.auth.isLogged?e(!0):(this.router.navigateByUrl(""),e(!1));case 14:case"end":return n.stop()}}),n,this,[[1,8]])})))}))}},{key:"canActivateChild",value:function(t,e){return t.queryParamMap.has("token")}}]),e}()).\u0275fac=function(t){return new(t||i)(f.Zb(h.d),f.Zb(b.a),f.Zb(g.b))},i.\u0275prov=f.Lb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),k=a("2lfU"),m=((c=function(){function e(n,r){t(this,e),this.auth=n,this.router=r}return n(e,[{key:"canActivate",value:function(t,e){var n=t.queryParamMap.get("token");return n&&16===n.length?(this.auth.recToken=n,!0):(this.router.navigateByUrl(""),!1)}}]),e}()).\u0275fac=function(t){return new(t||c)(f.Zb(b.a),f.Zb(h.d))},c.\u0275prov=f.Lb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),w=a("x5bZ"),A=[{path:"",component:p,children:[{path:"register",component:l.a,canActivate:[y]},{path:"recover",component:k.a,canActivate:[m]},{path:"",redirectTo:"register",pathMatch:"full"}]}],P=((u=function e(){t(this,e)}).\u0275mod=f.Nb({type:u}),u.\u0275inj=f.Mb({factory:function(t){return new(t||u)},imports:[[s.c,h.h.forChild(A),w.a],h.h]}),u)}}])}();